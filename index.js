import{a as m,S as g,i as a}from"./assets/vendor-CrlV4O_2.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();const L="50290691-d51719558e36c91c48babc26d",b="https://pixabay.com/api/",w=15;async function S(e){const t={key:L,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:w,page:1};try{return(await m.get(b,{params:t})).data}catch(r){throw r}}const u=document.querySelector(".gallery"),y=document.querySelector(".select");document.querySelector(".loader");let l=null;function q(e){console.log("Виклик createGallery. Масив зображень:",e);try{const t=e.map(({webformatURL:r,largeImageURL:s,tags:o,likes:n,views:i,comments:h,downloads:f})=>(console.log("Обробка зображення:",{webformatURL:r,largeImageURL:s,tags:o}),`
        <li class="gallery-item">
          <a href="${s}" class="gallery-link">
          <img src="${r}" alt="${o}" loading="lazy" />
          </a>
        <div class="info">
        <p><b>Likes:</b> ${n}</p>
        <p><b>Views:</b> ${i}</p>
        <p><b>Comments:</b> ${h}</p>
        <p><b>Downloads:</b> ${f}</p>
      </div>
    </li>`)).join("");u.insertAdjacentHTML("beforeend",t),l?l.refresh():l=new g(".gallery a",{captionsData:"alt",captionDelay:250}),u.children.length>0&&y.classList.remove("is-hidden")}catch(t){throw console.error("Помилка у createGallery:",t),t}}async function v(){try{u.innerHTML="",P(),console.log("Галерея очищена.")}catch(e){throw console.error("Помилка у функції clearGallery:",e),new Error("Не вдалося очистити галерею.")}}async function P(){try{y.classList.add("is-hidden")}catch(e){throw console.error("Помилка при приховуванні кнопки Load more:",e),e}}const p=document.querySelector(".form"),d=p.querySelector('input[name="search-text"]'),c=document.querySelector(".loader");document.addEventListener("DOMContentLoaded",()=>{});function E(){try{c&&(c.style.display="block")}catch(e){throw console.error("Помилка у showLoader:",e),e}console.log("Лоадер показано")}function $(){try{c&&(c.style.display="none")}catch(e){throw console.error("Помилка у hideLoader:",e),e}console.log("Лоадер приховано")}p.addEventListener("submit",async e=>{e.preventDefault();const t=d.value.trim();if(!t){a.error({title:"Помилка",message:"Будь ласка, введіть пошуковий запит.",position:"topRight"});return}try{E(),v(),await new Promise(s=>setTimeout(s,3e3)),console.log("Лоадер показано після відправки запиту.");const r=await S(t);if(console.log("Після виклику getImagesByQuery. Отримано дані:",r),!r.hits||r.hits.length===0){a.info({title:"Нічого не знайдено",message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"});return}q(r.hits),a.success({title:"Успіх",message:`Знайдено ${r.hits.length} зображень.`,position:"topRight",timeout:3e3})}catch(r){console.error("Помилка запиту:",r),a.error({title:"Помилка",message:"Не вдалося завантажити зображення. Спробуйте пізніше.",position:"topRight"})}finally{$(),d.value="",console.log("Лоадер схований, поле введення очищене.")}});
//# sourceMappingURL=index.js.map
